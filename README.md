# the sticker protocol

> print digital stickers, imbue them with value, and trade them across the web

the sticker protocol is a public good and fully permissionless and open hyperstructure for selling, printing, trading, and redeeming digital stickers backed by frxETH.

## welcome to DeFi Sticker.0

the sticker protocol eliminates [the mental transaction costs](https://nakamotoinstitute.org/micropayments-and-mental-transaction-costs/) of moving money on the internet — social micropayments are back, baby, and they're cooler than ever.

stickers are an adhesive art form, a unique medium of creativity and expression that helps the p2p social web stick together.

## protocol overview

a sticker is an individual edition of an ERC1155 NFT living on a dedicated OP Stack rollup in which transfers and trades are fully subsidized and account-abstracted. stickers, upon minting, are fully backed by mainnet frxETH, which is staked for risk-free yield. upon burning a sticker on the rollup, the backing mainnet frxETH is unstaked and returned.

as users react to their friends or creators around the web, the sticker NFTs are _transferred_, sending both meaning and money to another.

as non-fungible stores of frxETH, stickers have an _insane_ monetary premium and yield from the sfrxETH is streamed to protocol participants (platforms, artists, and others).

## technical details

### printing

artists provide sticker packs for printing. when a pack they've designed is minted, they earn a fee (calculated by `IPrinter#primarySaleInfo(...)`).

anyone can produce a sticker to be sold on any platform — they're just NFTs and follow the NFT Metadata standard. artists can use the full expressivity of solidity to restrict the supply of their stickers or how they're distributed.

anyone can write a UI to facilitate the minting of stickers, and claim a Finders Fee in exchange, giving them a pro-rata % of all yield generated by the ETH they facilitated the locking of. minting UIs *should not* charge an additional minting fee but ***can***—if they do so they should explicitly make that fact know in the breakdown of costs.

users print a sticker pack by providing the backing (frx)ETH, along with the artist's printing fee

ex: to mint a pack of 10 stickers backed by 0.0001 ETH each, the user pays 0.0012 (frx)ETH. 0.0002 frxETH goes directly to the artist, and each minted sticker is imbued with 0.0001 frxETH.

tokenIds are deterministic by implementation — we pack the following information into a tokenId:

| uint8 | uint8 | 8 bytes | 20 bytes |
|---|---|---|---|
| tier | id | salt | printer |
| | | | = 32 bytes |

using this model, an artist defines a pack of stickers by providing a `salt` and `printer` contract.

the purpose of the salt is to support multiple packs of stickers with a single `printer` implementation.

because `id` is a `uint8`, the maximum number of unique sticker designs in any one given pack is `256`.

### mint with ETH, frxETH, frxETH#permit()

stickers can be minted with ETH and frxETH, and optionally with `permit()`

because ETH <> frxETH goes through the swap facility, the protocol opts to forward the frxETH directly to artists who can swap it to their preferred currency independently

### sticker tiers

stickers have tiers of value, satisfying the requirement that users be able to contribute a lot of value in a single sticker interaction

| Tier | Color | Value (frxETH) | Est. Value (USD) |
| --- | --- | --- | --- |
| Common | White | 0.0001 | $0.2 |
| Uncommon | Green | 0.001 | $2 |
| Rare | Blue | 0.01 | $20 |
| Epic | Purple | 0.1 | $200 |
| Legendary | Orange | 1 | $2000 |

([modeled after Blizzard rarity tiers](https://wowpedia.fandom.com/wiki/Quality))

### sticker printers

sticker printers are sticker implementation contracts, primarily responsible for defining the additional behavior and display of a sticker, as well as secondary sale royalties.

sticker printers abide by the following interfaces
- `IERC1155MetadataURI` — (`uri(...)`)
- `IERC2981` — (`royaltyInfo(...)`)
- `IPrinter`
  - `primarySaleInfo(...)`
  - `onBeforeMint`
  - `onAfterBurn`

### Stick Together, The DAO

main question: how to automatically direct yield from vault?
if not possible to be done automatically, need to inject some humans :(

- retroactive subsidization of integrations
- retroactive subsidization
- proactive grant distribution, nouns-style
- veTokenomics w/ guage voting to redirect vault yield per-epoch

### subsidized transactions

the Sticker chain is operated by Stick Together, which is a paymaster for known transaction types on the OP chain, effectively providing free transactions for all sticker-related operations, especially transfers and distributions.

### storefronts

storefronts

TODO: finders fees

can support counterfactual printers / sticker packs — just calculate the CREATE2 address of the printer and you'll know your token ids, etc.

### mvp

v0.1 — the protocol is first developed as a single-chain hyperstructure

v1.0 — cross-chain messaging & dedicated OP Stack operated by Stick Together w/ account-abstracted subsidized txs

with the split-chain v1.0, minting-related logic (gating, total supply, etc) will live on mainnet and we want display/trading (uri, royalty info, etc) logic available on the sidechain — do we use deterministic deploys to deploy the same `IPrinter` on each chain? allows for easy message passing

## todo

- [ ] vault invariant rounding issue?
- [ ] how to distribute vault rewards?
- [ ] onAfterStick throwing would disallow burning in v0.1 but is really annoying problem in v1.0
- [ ] enable multicalls so people can stick from multiple printers at once
- [ ] put reentrancy guard on Storefront actions?
- [ ] replace msg.sender argument with a `from` argument in `Storefront#print(...)`?
- [ ] optimize storage slots / variable sizing
- [ ] security pass
- [ ] use a static delegate call to perform sticker logics? only if we never need a hook to persist state.
  - https://github.com/dragonfly-xyz/useful-solidity-patterns/tree/main/patterns/readonly-delegatecall#read-only-delegatecall
  - https://github.com/PartyDAO/party-protocol/blob/71714262eb59daeac06e561d03d05f3c5178e9d8/contracts/crowdfund/CrowdfundNFT.sol#L104
- [ ] include a totalSupply per tokenId
  - `totalSupplyOf` hook on printers?
  - [ ] could use the read only delegate idea to optionally get a maxSupply from impl contract allowing for 1/1 specifications
- [ ] replace ERC165Checker with something more gas efficient?
